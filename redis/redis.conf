# Redis configuration optimized for RAG Agent Message Queue
# This configuration enhances Redis for both caching and pub/sub messaging

# Network
bind 0.0.0.0
port 6379
timeout 0
tcp-keepalive 300

# Process management
daemonize no
supervised no
loglevel notice

# Databases
databases 16

# Persistence
save 900 1
save 300 10
save 60 10000

# Memory management for message queue
maxmemory 256mb
maxmemory-policy allkeys-lru

# Pub/Sub optimizations for agent communication
tcp-backlog 511

# Security (for development - adjust for production)
protected-mode no

# Agent Message Queue specific settings
# Increase client output buffer for pub/sub
client-output-buffer-limit pubsub 32mb 8mb 60

# Timeout settings for long-running agent tasks
timeout 300

# Disable dangerous commands in production
# rename-command FLUSHDB ""
# rename-command FLUSHALL ""
# rename-command SHUTDOWN SHUTDOWN_REDIS