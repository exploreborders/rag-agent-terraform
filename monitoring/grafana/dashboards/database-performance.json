{
  "title": "Database Performance Dashboard",
    "tags": [
      "database",
      "postgresql",
      "performance"
    ],
    "timezone": "UTC",
    "panels": [
      {
        "title": "PostgreSQL Overview",
        "type": "row",
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 0
        }
      },
      {
        "title": "Database Connections",
        "type": "graph",
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 0,
          "y": 1
        },
        "targets": [
          {
            "expr": "pg_stat_activity_count",
            "legendFormat": "Active Connections"
          }
        ]
      },
      {
        "title": "Database Size",
        "type": "graph",
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 12,
          "y": 1
        },
        "targets": [
          {
            "expr": "pg_database_size_bytes",
            "legendFormat": "Database Size (bytes)"
          }
        ]
      },
      {
        "title": "Query Performance",
        "type": "graph",
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 0,
          "y": 9
        },
        "targets": [
          {
            "expr": "rate(pg_stat_user_tables_seq_scan[5m])",
            "legendFormat": "Sequential Scans"
          },
          {
            "expr": "rate(pg_stat_user_tables_idx_scan[5m])",
            "legendFormat": "Index Scans"
          }
        ]
      },
      {
        "title": "Cache Hit Ratio",
        "type": "graph",
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 12,
          "y": 9
        },
        "targets": [
          {
            "expr": "pg_stat_database_blks_hit / (pg_stat_database_blks_hit + pg_stat_database_blks_read) * 100",
            "legendFormat": "Cache Hit Ratio %"
          }
        ]
      },
      {
        "title": "pgvector Operations",
        "type": "row",
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 17
        }
      },
      {
        "title": "Vector Index Operations",
        "type": "graph",
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 0,
          "y": 18
        },
        "targets": [
        {
          "expr": "rate(pg_statio_user_tables_idx_blocks_hit[5m])",
          "legendFormat": "Index Block Hits"
        },
        {
          "expr": "rate(pg_statio_user_tables_idx_blocks_read[5m])",
          "legendFormat": "Index Block Reads"
        }
        ]
      },
      {
        "title": "Table Statistics",
        "type": "table",
        "gridPos": {
          "h": 8,
          "w": 12,
          "x": 12,
          "y": 18
        },
        "targets": [
          {
            "expr": "pg_stat_user_tables_n_tup_ins",
            "legendFormat": "{{schemaname}}.{{tablename}} inserts"
          },
          {
            "expr": "pg_stat_user_tables_n_tup_upd",
            "legendFormat": "{{schemaname}}.{{tablename}} updates"
          },
          {
            "expr": "pg_stat_user_tables_n_tup_del",
            "legendFormat": "{{schemaname}}.{{tablename}} deletes"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "custom": {
              "align": "auto",
              "displayMode": "auto"
            }
          }
        }
      },
      {
        "title": "Active Connections",
        "type": "table",
        "gridPos": {
          "h": 8,
          "w": 24,
          "x": 0,
          "y": 26
        },
        "targets": [
          {
            "expr": "pg_stat_activity_count{state=\"active\"}",
            "legendFormat": "{{datname}} - {{state}}"
          }
        ]
      }
    ],
    "time": {
      "from": "now-1h",
      "to": "now"
    },
    "timepicker": {},
    "templating": {
      "list": []
    },
    "annotations": {
      "list": []
    },
    "refresh": "30s",
    "schemaVersion": 27,
    "version": 0,
    "links": []
}